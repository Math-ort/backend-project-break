
const express = require('express');
const productRouter = express.Router();
const productController = require('../controllers/productController');

//- GET /dashboard: Devuelve el dashboard del administrador. En el dashboard aparecerán todos los artículos que se hayan subido. 
//Si clickamos en uno de ellos nos llevará a su página para poder actualizarlo o eliminarlo.

productRouter.get("/dashboard", productController.getProductsDashboard);

//- GET /dashboard/new: Devuelve el formulario para subir un artículo nuevo.
productRouter.get("/dashboard/new",productController.getNewDashboard);

// - DELETE /dashboard/:productId/delete: Elimina un producto.
productRouter.get("/dashboard/:productId/delete", productController.getFormDeleteProduct);
//- GET /dashboard/:productId/edit: Devuelve el formulario para editar un producto.
productRouter.get('/dashboard/:id/edit', productController.getEditProduct);

//- GET /products:

productRouter.get('/products',productController.getProducts);

productRouter.get('/', (req, res) => {
    res.send("Product router working");
});

//- POST /dashboard: Crea un nuevo producto.

productRouter.post('/dashboard', productController.crearNuevoProducto);

//- GET /products/:productId: Devuelve el detalle de un producto.

productRouter.get('/products/:id', productController.detalleProductId);

//- GET /dashboard/:productId: Devuelve el detalle de un producto en el dashboard.
productRouter.get('/dashboard/:id',productController.dashboardDetalleProduct);


//- PUT /dashboard/:productId: Actualiza un producto.

productRouter.put('/dashboard/:id',productController.actualizarProducto);
        
        
//- DELETE /dashboard/:productId/delete: Elimina un producto.
        
productRouter.delete('/dashboard/delete/:id', productController.deleteProduct);
            
            
            
module.exports = productRouter;